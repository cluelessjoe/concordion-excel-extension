apply from: 'https://raw.githubusercontent.com/concordion/concordion-extension-build/master/extension-build.gradle'

description = 'An extension to Concordion to use Excel spreadsheets rather than HTML as specifications'

ext {
    poiVersion = '3.10-FINAL'
    developers = {
        developer {
            id 'robmoffat'
            name 'Rob Moffat'
            roles { role 'Extension Contributor' }
            url 'http://kite9.com'
        }
    }
    inceptionYear = '2014'   
}

dependencies {
    compile "org.apache.poi:poi:$poiVersion"
    compile "org.apache.poi:poi-ooxml:$poiVersion"
    compile "org.apache.poi:poi-ooxml-schemas:$poiVersion"
    compile 'org.apache.commons:commons-lang3:3.3.2'
}

task publishDocs(type: GradleBuild, dependsOn: ['javadoc', 'test']) {
    buildFile = 'publish.gradle'
    tasks = ['publishGhPages']
}

//TODO - do we want to publish Docs on a snapshot? Should we version docs?
task publishSnapshot(dependsOn: ['publishDocs', 'uploadArchives'])

task publishRelease(dependsOn: ['publishDocs', 'release'])